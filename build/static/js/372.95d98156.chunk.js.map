{"version":3,"file":"static/js/372.95d98156.chunk.js","mappings":"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","sources":["pages/cities-pages/Haridwar.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport BikeCard from '../../components/BikeCard';\nimport api from '../../utils/api';\nimport Navbar from '../../components/Navbar';\nimport { useNavigate } from 'react-router-dom';\nimport FilterSidebar from '../../components/FilterSidebar';\nimport { FiX } from 'react-icons/fi';\nimport { generateCitySlug, generateBikesSlug } from '../../utils/slugUtils';\nimport { Box, Typography } from '@mui/material';\nimport { useScrollAnimation } from '../../hooks/useScrollAnimation';\n\nconst HaridwarBikesPage = ({ cityData }) => {\n  const [bikes, setBikes] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [location, setLocation] = useState('Haridwar');\n  const [allLocations, setAllLocations] = useState([]);\n  const [bikeName, setBikeName] = useState(\"\");\n  const [price, setPrice] = useState(0);\n  const [maxPrice] = useState(10000);\n  const navigate = useNavigate();\n  const [filterOpen, setFilterOpen] = useState(false);\n  const scrollRef = useScrollAnimation();\n\n  useEffect(() => {\n    // Fetch all cities for the filter dropdown\n    const fetchCities = async () => {\n      try {\n        const citiesRes = await api.get('/api/cities');\n        const cityNames = citiesRes.data.map(city => city.name);\n        setAllLocations(cityNames);\n      } catch (err) {\n        // fallback: use locations from bikes if city API fails\n        try {\n          const res = await api.get('/api/bikes', { params: { isBooked: false } });\n          const locations = Array.from(new Set(res.data.map(b => b.location).filter(Boolean)));\n          setAllLocations(locations);\n        } catch {}\n      }\n    };\n    fetchCities();\n  }, []);\n\n  useEffect(() => {\n    const fetchBikes = async () => {\n      try {\n        setLoading(true);\n        const res = await api.get('/api/bikes', { params: { isBooked: false, location: 'Haridwar' } });\n        setBikes(res.data);\n      } catch (err) {\n        setError('Failed to load bikes.');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchBikes();\n  }, []);\n\n  useEffect(() => {\n    const fetchFilteredBikes = async () => {\n      setLoading(true);\n      setError(null);\n      try {\n        const params = { isBooked: false, location };\n        if (bikeName) params.name = bikeName;\n        if (price > 0) params.price = price;\n        const res = await api.get('/api/bikes', { params });\n        setBikes(res.data);\n      } catch (err) {\n        setError('Failed to load bikes.');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchFilteredBikes();\n  }, [location, bikeName, price]);\n\n  // Redirect to city route on city change\n  useEffect(() => {\n    if (location && location.toLowerCase() !== 'haridwar') {\n      const city = location.trim().toLowerCase();\n      if ([\"indore\", \"mumbai\", \"goa\", \"haldwani\", \"kathgodam\", \"pithoragarh\", \"dehradun\", \"bhopal\"].includes(city)) {\n        // Use new slug format for navigation\n        const slug = generateCitySlug(city);\n        navigate(`/bikes/${slug}`);\n      } else if (location === \"\") {\n        // Use slug for main bikes page\n        const bikesSlug = generateBikesSlug();\n        navigate(`/bikes/${bikesSlug}`);\n      }\n    }\n  }, [location, navigate]);\n\n  const sortedBikes = [...bikes].sort((a, b) => new Date(b.year || b.createdAt) - new Date(a.year || a.createdAt));\n\n  return (\n    <>\n      <Navbar onFilterToggle={() => setFilterOpen(true)} />\n      <div className=\"flex min-h-screen bg-gray-50\">\n        {/* Filters - Left Sidebar */}\n        <aside className=\"w-80 p-4 bg-white border-r hidden md:block sticky top-0 h-screen shadow-lg rounded-r-3xl\" style={{ alignSelf: 'flex-start' }}>\n          <FilterSidebar\n            location={location}\n            setLocation={setLocation}\n            allLocations={allLocations}\n            bikeName={bikeName}\n            setBikeName={setBikeName}\n            price={price}\n            setPrice={setPrice}\n            maxPrice={maxPrice}\n            navigate={navigate}\n          />\n        </aside>\n        \n        {/* Mobile Filter Popup */}\n        {filterOpen && (\n          <div className=\"fixed inset-0 z-[100010] flex md:hidden\">\n            {/* Overlay */}\n            <div className=\"absolute inset-0 bg-black bg-opacity-30\" onClick={() => setFilterOpen(false)} />\n            {/* Popup - always slide in from left */}\n            <div className=\"absolute left-0 top-0 bg-white w-10/12 max-w-xs h-full shadow-xl p-2 animate-slide-in-left flex flex-col\">\n              <div className=\"flex items-center justify-between mb-2\">\n                <h2 className=\"text-base font-bold text-yellow-500\">Filters</h2>\n                <button onClick={() => setFilterOpen(false)} aria-label=\"Close filter\" className=\"p-1 rounded focus:outline-none focus:ring-2 focus:ring-red-400\">\n                  <FiX className=\"w-5 h-5 text-yellow-500\" />\n                </button>\n              </div>\n              <FilterSidebar\n                location={location}\n                setLocation={setLocation}\n                allLocations={allLocations}\n                bikeName={bikeName}\n                setBikeName={setBikeName}\n                price={price}\n                setPrice={setPrice}\n                maxPrice={maxPrice}\n                navigate={navigate}\n                compact\n              />\n            </div>\n          </div>\n        )}\n        \n        {/* Main Content - Right Side */}\n        <main className=\"flex-1 overflow-y-auto\">\n          <div className=\"p-6\">\n            <div className=\"mb-6\">\n              <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Bikes in Haridwar</h1>\n              <p className=\"text-gray-600\">Find the perfect bike for your journey in Haridwar</p>\n            </div>\n            \n            {/* Bike Listings */}\n            {loading ? (\n              <div className=\"flex justify-center items-center h-64\">\n                <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-500\"></div>\n              </div>\n            ) : error ? (\n              <div className=\"text-center text-red-500\">{error}</div>\n            ) : sortedBikes.length === 0 ? (\n              <div className=\"text-center text-gray-500 py-8\">\n                <p>No bikes available in Haridwar at the moment.</p>\n              </div>\n            ) : (\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n                {sortedBikes.map((bike) => (\n                  <BikeCard key={bike._id} bike={bike} />\n                ))}\n              </div>\n            )}\n            \n            {/* City Page Content - Displayed below bike listings in main content area */}\n            {cityData && cityData.content && (\n              <div ref={scrollRef} className=\"animate-fade-in-up mt-8\">\n                <Box \n                  sx={{ \n                    p: 4,\n                    bgcolor: 'white',\n                    borderRadius: 3,\n                    boxShadow: '0 4px 20px rgba(0,0,0,0.08)',\n                    border: '1px solid #e5e7eb',\n                    position: 'relative',\n                    overflow: 'hidden',\n                    '&::before': {\n                      content: '\"\"',\n                      position: 'absolute',\n                      top: 0,\n                      left: 0,\n                      right: 0,\n                      height: '4px',\n                      background: 'linear-gradient(90deg, #FDB813 0%, #E6A612 100%)',\n                      borderRadius: '12px 12px 0 0'\n                    }\n                  }}\n                >\n                \n                  \n                  <Box \n                    dangerouslySetInnerHTML={{ __html: cityData.content }}\n                    sx={{\n                      '& h1, & h2, & h3, & h4, & h5, & h6': {\n                        color: '#1f2937',\n                        fontWeight: 600,\n                        mb: 2,\n                        mt: 3,\n                        lineHeight: 1.3\n                      },\n                      '& h1': { fontSize: { xs: '1.75rem', md: '2rem' } },\n                      '& h2': { fontSize: { xs: '1.5rem', md: '1.75rem' } },\n                      '& h3': { fontSize: { xs: '1.25rem', md: '1.5rem' } },\n                      '& h4': { fontSize: { xs: '1.125rem', md: '1.25rem' } },\n                      '& h5': { fontSize: { xs: '1rem', md: '1.125rem' } },\n                      '& h6': { fontSize: '1rem' },\n                      '& p': {\n                        color: '#4b5563',\n                        lineHeight: 1.8,\n                        mb: 3,\n                        fontSize: '1rem',\n                        textAlign: 'justify'\n                      },\n                      '& ul, & ol': {\n                        color: '#4b5563',\n                        lineHeight: 1.8,\n                        mb: 3,\n                        pl: 4\n                      },\n                      '& li': {\n                        mb: 1.5,\n                        position: 'relative'\n                      },\n                      '& ul li::before': {\n                        content: '\"•\"',\n                        color: '#FDB813',\n                        fontWeight: 'bold',\n                        position: 'absolute',\n                        left: '-1.5rem'\n                      },\n                      '& a': {\n                        color: '#FDB813',\n                        textDecoration: 'none',\n                        fontWeight: 500,\n                        borderBottom: '1px solid transparent',\n                        transition: 'all 0.3s ease',\n                        '&:hover': {\n                          borderBottomColor: '#FDB813',\n                          color: '#E6A612'\n                        }\n                      },\n                      '& img': {\n                        maxWidth: '100%',\n                        height: 'auto',\n                        borderRadius: 2,\n                        my: 3,\n                        boxShadow: '0 4px 12px rgba(0,0,0,0.1)',\n                        transition: 'transform 0.3s ease',\n                        '&:hover': {\n                          transform: 'scale(1.02)'\n                        }\n                      },\n                      '& blockquote': {\n                        borderLeft: '4px solid #FDB813',\n                        pl: 3,\n                        ml: 0,\n                        fontStyle: 'italic',\n                        color: '#6b7280',\n                        bgcolor: '#f9fafb',\n                        p: 3,\n                        borderRadius: 2,\n                        my: 3,\n                        position: 'relative',\n                        '&::before': {\n                          content: '\"\"',\n                          position: 'absolute',\n                          top: 0,\n                          left: 0,\n                          right: 0,\n                          bottom: 0,\n                          background: 'linear-gradient(135deg, rgba(250, 204, 21, 0.05) 0%, rgba(245, 158, 11, 0.05) 100%)',\n                          borderRadius: 2,\n                          zIndex: -1\n                        }\n                      },\n                      '& strong, & b': {\n                        fontWeight: 700,\n                        color: '#1f2937'\n                      },\n                      '& em, & i': {\n                        fontStyle: 'italic',\n                        color: '#6b7280'\n                      },\n                      '& table': {\n                        width: '100%',\n                        borderCollapse: 'collapse',\n                        my: 3,\n                        borderRadius: 2,\n                        overflow: 'hidden',\n                        boxShadow: '0 2px 8px rgba(0,0,0,0.1)'\n                      },\n                      '& th, & td': {\n                        border: '1px solid #e5e7eb',\n                        padding: '12px',\n                        textAlign: 'left'\n                      },\n                                              '& th': {\n                          bgcolor: '#FDB813',\n                        color: '#1f2937',\n                        fontWeight: 600\n                      },\n                      '& tr:nth-of-type(even)': {\n                        bgcolor: '#f9fafb'\n                      }\n                    }}\n                  />\n                </Box>\n              </div>\n            )}\n          </div>\n        </main>\n      </div>\n    </>\n  );\n};\n\nexport default HaridwarBikesPage;\n"],"names":["_ref","cityData","bikes","setBikes","useState","loading","setLoading","error","setError","location","setLocation","allLocations","setAllLocations","bikeName","setBikeName","price","setPrice","maxPrice","navigate","useNavigate","filterOpen","setFilterOpen","scrollRef","useScrollAnimation","useEffect","async","cityNames","api","get","data","map","city","name","err","res","params","isBooked","locations","Array","from","Set","b","filter","Boolean","_unused","fetchCities","fetchBikes","fetchFilteredBikes","toLowerCase","trim","includes","slug","generateCitySlug","concat","bikesSlug","generateBikesSlug","sortedBikes","sort","a","Date","year","createdAt","_jsxs","_Fragment","children","_jsx","Navbar","onFilterToggle","className","style","alignSelf","FilterSidebar","onClick","FiX","compact","length","bike","BikeCard","_id","content","ref","Box","sx","p","bgcolor","borderRadius","boxShadow","border","position","overflow","top","left","right","height","background","dangerouslySetInnerHTML","__html","color","fontWeight","mb","mt","lineHeight","fontSize","xs","md","textAlign","pl","textDecoration","borderBottom","transition","borderBottomColor","maxWidth","my","transform","borderLeft","ml","fontStyle","bottom","zIndex","width","borderCollapse","padding"],"sourceRoot":""}